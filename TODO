
~~* Refactor to new API~~
~~* Refactor eff~~
~~* Factor out anything that doesn't fit~~
~~* Simply as much as possible~~
* Update/fix tests
